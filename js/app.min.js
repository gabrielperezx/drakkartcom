(function(){function e(){let e=document.querySelector("#fullpage");if(document.body.contains(e))fullpage("#fullpage",{autoScrolling:!0,fitToSection:!1,fitToSectionDelay:300,easing:"easeInOutCubic",scrollingSpeed:700,css3:!0,easingcss3:"ease-out",loopBottom:!1,scrollOverflow:!1,normalScrollElements:".productos__sa2-container",menu:"#menu",anchors:["inicio","nosotros","productos","regalos"]})}function t(){let e=document.querySelector(".productos");if(document.body.contains(e)){const e=Swal.mixin({showConfirmButton:!1,customClass:{htmlContainer:"productos__sa2-html",popup:"productos__sa2-popup",container:"productos__sa2-container"}}),t=document.querySelectorAll(".productos__image"),o=[" Metalica"," Nirvana"," Rolling Stone"," One Piece"," Moai"," Thrasher"," Travis Scott"],n=[132,312,798,95,229,150,262];t.forEach((t,c)=>{t.addEventListener("click",()=>{e.fire({html:'<div class="productos__animation"><div class="productos__first"><img class="productos__first-image" src="media/product-0'+(c+1)+'.webp" alt=""></div><div class="productos__second"><div class="productos__info"><p class="productos__modelo"><span class="texto-negro">Franeja</span><span class="texto-primario">'+o[c]+'</span></p><p class="productos__descripcion texto-negro">Lorem, ipsum dolor.</p><p class="productos__precio texto-negro">'+n[c]+"</p></div></div></div>"}),document.body.style.backgroundColor="black",productContainer=document.querySelector(".productos__sa2-container"),productContainer.addEventListener("click",()=>{setTimeout(function(){document.body.style.backgroundColor="white"},500)})})})}}function o(){let e=document.querySelector(".tshirt");if(document.body.contains(e)){let e=new fabric.Canvas("desingCanvas");const n=document.getElementById("fileUpload"),c=document.getElementById("desing_container"),r=document.getElementById("btn_dowload"),a=document.getElementById("shirtImage"),d=document.getElementById("shirtColor"),i=document.getElementById("shirtView"),s=document.querySelector(".tshirt__area"),l=document.querySelectorAll(".selectsShirt");function t(){"black"==d.value?s.classList.add("border","border-2","border-white"):s.classList.add("border","border-2","border-black")}function o(){"black"==d.value?s.classList.remove("border","border-2","border-black"):s.classList.remove("border","border-2","border-white")}l.forEach(e=>{e.addEventListener("change",()=>{let e="../media/"+d.value+"-"+i.value+"-shirt.webp";a.src=e})}),n.addEventListener("change",function(o){""==!n.value&&(r.disabled=!1,n.disabled=!0),t();var c=new FileReader;c.onload=function(t){var o=new Image;o.src=t.target.result,o.onload=function(){var t=new fabric.Image(o);t.scaleToWidth(200),t.set({borderColor:"#0000FF",cornerColor:"#0000FF"}),e.centerObject(t),e.add(t),e.renderAll()}},o.target.files[0]&&c.readAsDataURL(o.target.files[0])},!1),document.addEventListener("keydown",function(t){var o=t.keyCode;46!=o&&8!=o||(e.remove(e.getActiveObject()),n.disabled=!1,r.disabled=!0,n.value=null)},!1),r.addEventListener("click",()=>{o(),domtoimage.toJpeg(c,{quality:1}).then(function(e){var t=document.createElement("a");t.download="drakkart-desing.jpeg",t.href=e,t.click()})}),s.addEventListener("mouseover",()=>{t()}),s.addEventListener("mouseleave",()=>{o(),e.discardActiveObject().renderAll()}),e.on("object:moving",function(e){var t=e.target;t.currentHeight>t.canvas.height||t.currentWidth>t.canvas.width||(t.setCoords(),(t.getBoundingRect().top<0||t.getBoundingRect().left<0)&&(t.top=Math.max(t.top,t.top-t.getBoundingRect().top),t.left=Math.max(t.left,t.left-t.getBoundingRect().left)),(t.getBoundingRect().top+t.getBoundingRect().height>t.canvas.height||t.getBoundingRect().left+t.getBoundingRect().width>t.canvas.width)&&(t.top=Math.min(t.top,t.canvas.height-t.getBoundingRect().height+t.top-t.getBoundingRect().top),t.left=Math.min(t.left,t.canvas.width-t.getBoundingRect().width+t.left-t.getBoundingRect().left)))})}}e(),t(),window.onload=function(){o()}})();